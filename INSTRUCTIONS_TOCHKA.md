# Инструкция по запуску оплаты (Точка Банк)

Вы успешно внедрили код для приема платежей. Так как API Точка Банка требует секретного ключа, запросы должны идти через ваш личный сервер (бэкенд), который мы создали в папке `payment-server`.

## 1. Настройка Бэкенда

1.  Откройте папку `payment-server` в редакторе кода.
2.  Найдите файл `.env.example`.
3.  Переименуйте его в `.env`.
4.  Откройте `.env` и вставьте **хотя бы** ваш `TOCHKA_TOKEN` (токен вы получаете в интернет-банке).
5.  Чтобы узнать остальные коды (customerCode, merchantId), запустите помощник:
    ```bash
    npm run setup
    ```
    Он выведет нужные цифры в консоль. Скопируйте их в `.env`.

6.  Итоговый `.env` должен выглядеть так:
    ```env
    TOCHKA_TOKEN=eyJhbGciOiJIUz...
    TOCHKA_CUSTOMER_CODE=12345678
    TAX_SYSTEM_CODE=osn
    REDIRECT_URL=http://localhost:3000/success.html
    ```

## 2. Запуск Сервера

1.  Откройте терминал (командную строку).
2.  Перейдите в папку сервера:
    ```bash
    cd payment-server
    ```
3.  Установите библиотеки (если еще не сделали):
    ```bash
    npm install
    ```
4.  Запустите сервер:
    ```bash
    node server.js
    ```
    Вы увидите сообщение: `Payment server running on http://localhost:3000`

## 3. Проверка на Сайте

1.  Откройте `join.html` в браузере (через Live Server или просто файл).
2.  Нажмите кнопку **"Оплатить 10,000₽"**.
3.  Введите тестовый email (или реальный).
4.  Если сервер настроен верно, вас перенаправит на страницу оплаты Точка Банка.
5.  В консоли сервера (терминале) вы увидите логи запросов.

## Важно для Продакшена (Боевой режим)
- Этот сервер (`server.js`) должен работать постоянно. Для этого загрузите папку `payment-server` на хостинг (VPS, Heroku, или аналогичный).
- В `payment.js` (на сайте) измените адрес `http://localhost:3000` на адрес вашего реального сервера (например, `https://api.mysite.com`).
